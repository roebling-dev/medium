<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Code Structure and Readability Part 4 — Project Structure</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Code Structure and Readability Part 4 — Project Structure</h1>
</header>
<section data-field="subtitle" class="p-summary">
In the previous article we talked about file structure, today we are moving on to talk about project structure.
</section>
<section data-field="body" class="e-content">
<section name="6947" class="section section--body section--first"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="86c0" id="86c0" class="graf graf--h3 graf--leading graf--title">Code Structure and Readability Part 4 — Project Structure</h3><figure name="b784" id="b784" class="graf graf--figure graf-after--h3"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 644px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 92%;"></div><img class="graf-image" data-image-id="0*IZGMJ81n6z7iOcsz" data-width="3312" data-height="3046" src="https://cdn-images-1.medium.com/max/800/0*IZGMJ81n6z7iOcsz"></div><figcaption class="imageCaption">Photo by <a href="https://unsplash.com/@rawpixel?utm_source=medium&amp;utm_medium=referral" data-href="https://unsplash.com/@rawpixel?utm_source=medium&amp;utm_medium=referral" class="markup--anchor markup--figure-anchor" rel="photo-creator noopener" target="_blank">rawpixel</a> on <a href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" data-href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" class="markup--anchor markup--figure-anchor" rel="photo-source noopener" target="_blank">Unsplash</a></figcaption></figure><p name="68bb" id="68bb" class="graf graf--p graf-after--figure">In the previous article we talked about file structure, today we are moving on to talk about project structure.</p><div name="d3a0" id="d3a0" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://medium.com/swift2go/code-structure-and-readability-part-3-file-structure-58ef1852037d" data-href="https://medium.com/swift2go/code-structure-and-readability-part-3-file-structure-58ef1852037d" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/swift2go/code-structure-and-readability-part-3-file-structure-58ef1852037d"><strong class="markup--strong markup--mixtapeEmbed-strong">Code Structure and Readability Part 3 — File Structure</strong><br><em class="markup--em markup--mixtapeEmbed-em">In the previous article we looked at Classes and Structs. We are going to expand our horizons in this article by…</em>medium.com</a><a href="https://medium.com/swift2go/code-structure-and-readability-part-3-file-structure-58ef1852037d" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="102df64902e7c21030a38e6250cdeea4" data-thumbnail-img-id="0*BOWR9QxyJW9QcMbn" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*BOWR9QxyJW9QcMbn);"></a></div><p name="d242" id="d242" class="graf graf--p graf-after--mixtapeEmbed">Like file structure, we still have to adhere to the single responsibility principle and separation of concerns, but not so much in the sense that it will affect our code. We do this to help us navigate the project and make changes later.</p><p name="93c7" id="93c7" class="graf graf--p graf-after--p">First, let’s look at your typical starting layout of an Xcode project (really any project).</p><figure name="b9b8" id="b9b8" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 628px; max-height: 484px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 77.10000000000001%;"></div><img class="graf-image" data-image-id="1*tk0J01y2LV8FDjcDMAsF-g.png" data-width="628" data-height="484" src="https://cdn-images-1.medium.com/max/800/1*tk0J01y2LV8FDjcDMAsF-g.png"></div></figure><p name="3def" id="3def" class="graf graf--p graf-after--figure">That’s great, isn’t it? We have the main project folder, we have the app that it will create at the end, and we have everything so nice and easy to find in there. If this were a small project, that would be just fine. However, many times this is not the case and you end up with some ugly projects looking like this…</p><figure name="635e" id="635e" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 532px; max-height: 688px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 129.29999999999998%;"></div><img class="graf-image" data-image-id="1*wgYPMD2IQ7kqrwp9ywZq4Q.png" data-width="532" data-height="688" src="https://cdn-images-1.medium.com/max/800/1*wgYPMD2IQ7kqrwp9ywZq4Q.png"></div></figure><p name="dfd7" id="dfd7" class="graf graf--p graf-after--figure">Let’s see, we have two more view controllers, <code class="markup--code markup--p-code">SettingsViewController.swift</code> and <code class="markup--code markup--p-code">LoginViewController.swift</code> we have <code class="markup--code markup--p-code">User.swift</code> whatever that is. We also have <code class="markup--code markup--p-code">LoginForm.swift</code>, another <code class="markup--code markup--p-code">Settings.storyboard</code> and then HTML? JS? CSS? Hey, those aren’t Swift files!</p><p name="84b9" id="84b9" class="graf graf--p graf-after--p">This is why a clean project structure is so important. It prevents you from having to click in each file to figure out what it’s supposed to be used for.</p><p name="40bd" id="40bd" class="graf graf--p graf-after--p">In Xcode you use groups, in Visual Studio you would use folders, in Python you’d use modules, and so on and so on…. However, in Xcode, you are provided some flexibility. Either a group with a folder or a group without a folder.</p><p name="5a46" id="5a46" class="graf graf--p graf-after--p">If we create one without a folder we end up with the files left in place, but in your project, they appear to be buried in a folder.</p><p name="9422" id="9422" class="graf graf--p graf-after--p">If we create one with a folder, the files in the project are moved to that folder on disk. We can tell by the folder on whether or not it is a group with or without a folder by looking at the bottom left corner. <code class="markup--code markup--p-code">Products</code> above is a group without a folder, while <code class="markup--code markup--p-code">MyAwesomeProject</code> is a group with a folder.</p><p name="3785" id="3785" class="graf graf--p graf-after--p">So when do you use them?</p><p name="57fb" id="57fb" class="graf graf--p graf-after--p">You’d use a group with a folder when you want any new file to automatically be created under this folder, or when it makes sense to group similar things within the same directory. You’d use a group without a folder when you don’t care where the files are stored or you want to use a folder to hold similar files that are already in a directory and shouldn’t change directories on disk.</p><p name="78e9" id="78e9" class="graf graf--p graf-after--p">Another reason I use groups without a folder is to keep the <code class="markup--code markup--p-code">AppDelegate.swift</code> and <code class="markup--code markup--p-code">Info.plist</code> at the root of my project but limit their visibility in my project structure.</p><figure name="616d" id="616d" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 223px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 31.8%;"></div><img class="graf-image" data-image-id="1*doEcBea7MxGn8nXHO2zgwA.png" data-width="1834" data-height="584" src="https://cdn-images-1.medium.com/max/800/1*doEcBea7MxGn8nXHO2zgwA.png"></div></figure><p name="bf4f" id="bf4f" class="graf graf--p graf-after--figure">Normally I create a <code class="markup--code markup--p-code">Storyboards</code> group without a folder so I can store all of my storyboards in that directory. Then I can use the default storyboard directory to hold my storyboards.</p><figure name="eede" id="eede" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 339px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 48.4%;"></div><img class="graf-image" data-image-id="1*L3M_9GPbD257sZZZLTpKOw.png" data-width="1280" data-height="620" src="https://cdn-images-1.medium.com/max/800/1*L3M_9GPbD257sZZZLTpKOw.png"></div></figure><p name="d22f" id="d22f" class="graf graf--p graf-after--figure">I also move View controllers to their own <code class="markup--code markup--p-code">Controllers</code> group and my Assets to a group both <strong class="markup--strong markup--p-strong">with</strong> a folder.</p><p name="22f8" id="22f8" class="graf graf--p graf-after--p">Let’s see how this looks on disk.</p><figure name="06ec" id="06ec" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 416px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 59.4%;"></div><img class="graf-image" data-image-id="1*iRmaRQaWMfqPKIR946KT_w.png" data-width="1764" data-height="1048" src="https://cdn-images-1.medium.com/max/800/1*iRmaRQaWMfqPKIR946KT_w.png"></div></figure><p name="5700" id="5700" class="graf graf--p graf-after--figure">We can still see <code class="markup--code markup--p-code">AppDelegate.swift</code> and <code class="markup--code markup--p-code">Info.plist</code> are at the root of the project, my Storyboards appear inside of <code class="markup--code markup--p-code">Base.lproj</code>, all view controllers are inside of a <code class="markup--code markup--p-code">Controllers</code> folder, and my Assets all reside under <code class="markup--code markup--p-code">Resources</code>.</p><p name="0b01" id="0b01" class="graf graf--p graf-after--p">With Storyboards, we want to ensure they make it into the <code class="markup--code markup--p-code">Base.lproj</code> folder so we can ensure they get reviewed by the Autolayout inspections. We can right-click on the Storyboards group and add a new file, when we do this we can select <code class="markup--code markup--p-code">Base.lproj</code> in the Create dialog box that appears, and save the new storyboard to this folder while still adding it to the <code class="markup--code markup--p-code">Storyboards</code> group as selected in the second half of the screen.</p><figure name="387c" id="387c" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 372px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 53.2%;"></div><img class="graf-image" data-image-id="1*9LpBUenqVU7AQ3NnBfdMkw.png" data-width="1678" data-height="892" src="https://cdn-images-1.medium.com/max/800/1*9LpBUenqVU7AQ3NnBfdMkw.png"></div></figure><p name="1be8" id="1be8" class="graf graf--p graf-after--figure">Later on, as we add more and more items to our project, we can create new folders to keep our project structure looking good. Let’s say <code class="markup--code markup--p-code">MyAwesomeProject</code> is a web app that requires the user to log in. We can add a few more files to our project. Notably, a <code class="markup--code markup--p-code">User</code> model to describe a user in the database, a <code class="markup--code markup--p-code">LoginForm</code> so they can actually log in through a web view, and <code class="markup--code markup--p-code">LoginViewController</code> to actually handle the login. Of course, this means we might need to dress it up with some HTML, some fancy CSS, and ever-present javascript.</p><p name="ea46" id="ea46" class="graf graf--p graf-after--p">So now things get a little messy. But we can think back on how we should set up our project, and we realize we can make this less of a nightmare.</p><p name="34ab" id="34ab" class="graf graf--p graf-after--p">Our User is a model, so we’ll create a new group with a folder called <code class="markup--code markup--p-code">Models</code>.</p><p name="0d71" id="0d71" class="graf graf--p graf-after--p">Our <code class="markup--code markup--p-code">LoginForm</code> is a View, so we’ll create a new group with a folder called <code class="markup--code markup--p-code">Views</code>.</p><p name="7f90" id="7f90" class="graf graf--p graf-after--p">Our web stuff is self-contained so we can throw it all in a <code class="markup--code markup--p-code">web</code> folder and place that under our <code class="markup--code markup--p-code">Resources</code> group.</p><p name="d2e2" id="d2e2" class="graf graf--p graf-after--p">Awesome! That wasn’t hard, it just took a little bit of thinking about what is and isn’t related then grouping all of it together. Even if you aren’t using Xcode, you can still do all of this with folders in most languages. I’d definitely consult project structure documentation for your language before diving right in.</p><p name="b9f6" id="b9f6" class="graf graf--p graf-after--p">Now we have all of these groups but with <code class="markup--code markup--p-code">Views</code> at the top, <code class="markup--code markup--p-code">Models</code> at the bottom, and <code class="markup--code markup--p-code">Controllers</code> somewhere in between, it’s going to get difficult to find these files, so we sort our sidebar so we can quickly find what we are looking for.</p><figure name="de88" id="de88" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 353px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 50.5%;"></div><img class="graf-image" data-image-id="1*icUevsVRGU_6M_U5ya3rkQ.png" data-width="1628" data-height="822" src="https://cdn-images-1.medium.com/max/800/1*icUevsVRGU_6M_U5ya3rkQ.png"></div></figure><p name="a134" id="a134" class="graf graf--p graf-after--figure graf--trailing">Easy enough, now we know where everything is and we just need to drill down for exactly what we were looking for.</p></div></div></section><section name="fcd3" class="section section--body section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><p name="986b" id="986b" class="graf graf--p graf--leading">This may seem like overkill for smaller projects, trust me it is. But when you start getting into larger projects, it can really save you a lot of time. Just look at one of my previous projects:</p><figure name="6775" id="6775" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 709px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 101.29999999999998%;"></div><img class="graf-image" data-image-id="1*xWLi48HLQVNaMepxcsgr1g.png" data-width="1118" data-height="1132" src="https://cdn-images-1.medium.com/max/800/1*xWLi48HLQVNaMepxcsgr1g.png"></div></figure><p name="d719" id="d719" class="graf graf--p graf-after--figure">If I asked you to find the section of code that deals with displaying search results from the map’s search view controller how long would it take you? What if I asked you to change the color of the map’s table view controller background?</p><p name="8f6f" id="8f6f" class="graf graf--p graf-after--p">Or what about finding the new user registration function? Just a quick glance and it’s easy to spot.</p><p name="d727" id="d727" class="graf graf--p graf-after--p">This project is over 7,000 lines of code and I’m not finished with it yet, fortunately/unfortunately, I’m also the only one working on it. Fortunately, because I don’t have to bend to other coding styles or figure out what’s left to do. I just know. Unfortunately, because I’m the only one writing these 7,000 lines of code, if I were to hire someone else to work on it with me, they could get up and running relatively shortly.</p><p name="9130" id="9130" class="graf graf--p graf-after--p">This is why the project structure is important. This is why you should always be mindful of how your project structure appears even from the very start.</p><p name="6eca" id="6eca" class="graf graf--p graf-after--p">By placing all of our models under a single group, any time we need to make a modification to that model, we know exactly where to find it, we can make the change, and because we’ve been abiding by the loose coupling principles and DRY and SRP, these changes are guaranteed not to screw up our code somewhere else, right?!</p><p name="6367" id="6367" class="graf graf--p graf-after--p">Finally, there is one more thing that I don’t have screenshots for but if you’ve ever used Carthage or Cocoapods, or the MapKit framework in Xcode, or even imports or includes, you’ll have an understanding of libraries.</p><p name="8c10" id="8c10" class="graf graf--p graf-after--p">Libraries are self-contained pieces of code that you can use in more than one project. They can help take the complexity out of your applications while providing a common interface for doing stuff in all of your applications. For example, a login screen that can be created by passing a title and a background image would be a good library that you could distribute to the world since the login screen has literally been made hundreds of thousands of times, if not millions.</p><p name="f53b" id="f53b" class="graf graf--p graf-after--p">If we had a login screen library included in this application, we wouldn’t need the LoginViewController or the <code class="markup--code markup--p-code">LoginForm</code>. Instead, we’d just call methods inside of the already existing LoginViewController and <code class="markup--code markup--p-code">LoginForm</code> inside of the library. Because of that, we don’t have 2 files, we just have one. We don’t have to worry about if the code inside of the library still works after this one change because it has no dependency on any other part of our code.</p><p name="a89e" id="a89e" class="graf graf--p graf-after--p">Here’s an example from a AAA title developer. EA/Dice has a Frostbyte engine. This engine is responsible for how characters move on the screen, it contains the physics logic, the bullet logic, the weapon functions logic such as reload and fire, it contains weather logic, reflections, etc…. It’s just one big massive library that can be reused in Mirror’s Edge, Battlefield, Star Wars: Battlefront, Need for Speed. The Frostbyte engine isn’t the only engine available, there are others such as CryEngine, Havok, Source, and Unity.</p><p name="6e6a" id="6e6a" class="graf graf--p graf-after--p">Imagine, thousands of files belong to this engine, all with their own roles, but when these developers create a new game, they use the library and that provides these thousands of files under one library. There is a lot of power and flexibility in that, it’s also the reason why development is sped up. Imagine if they had to write this engine over and over and over again every time they wanted to make a new game. It would take a very long time.</p><h3 name="4482" id="4482" class="graf graf--h3 graf-after--p">Summary</h3><p name="63e4" id="63e4" class="graf graf--p graf-after--h3">Here we learned about good project structure, but I want to leave you with a challenge. Find one of your old projects that could benefit from better structure and <strong class="markup--strong markup--p-strong">make a copy of it</strong>!</p><p name="9b5b" id="9b5b" class="graf graf--p graf-after--p">Then in your copy, improve the structure in its entirety, code comments and all. Write it as if you were going to sell this project off to someone else to maintain. Write it as if someone sold you this project and what questions you’d have about it if you had never seen the code base before.</p><p name="9f27" id="9f27" class="graf graf--p graf-after--p">You don’t have to post it anywhere or give it to anyone, just see if you can make it better. Do it for yourself, because the next time you have a bug in your code that needs to be fixed, it will be a lot easier to maintain.</p><p name="d2a3" id="d2a3" class="graf graf--p graf-after--p">In the last article of this series, I’ll provide a few links on where you can go for information on structuring your code and keeping it readable.</p><div name="3a44" id="3a44" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://medium.com/swift2go/code-structure-and-readability-part-5-resources-87d3f512019" data-href="https://medium.com/swift2go/code-structure-and-readability-part-5-resources-87d3f512019" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/swift2go/code-structure-and-readability-part-5-resources-87d3f512019"><strong class="markup--strong markup--mixtapeEmbed-strong">Code Structure and Readability Part 5 — Resources</strong><br><em class="markup--em markup--mixtapeEmbed-em">In the previous article of this series, we learned how to clean up our project structure and maybe break some of our…</em>medium.com</a><a href="https://medium.com/swift2go/code-structure-and-readability-part-5-resources-87d3f512019" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="bfcd40e7217107d73014ab87bb616230" data-thumbnail-img-id="0*US-rcgXoPtNeb3ih" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*US-rcgXoPtNeb3ih);"></a></div><figure name="0cb1" id="0cb1" class="graf graf--figure graf-after--mixtapeEmbed graf--trailing"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 280px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 40%;"></div><a href="http://bit.ly/2KkkwGL" data-href="http://bit.ly/2KkkwGL" class="graf-imageAnchor" data-action="image-link" data-action-observe-only="true"rel="noopener"target="_blank"><img class="graf-image" data-image-id="1*5-oC2BqqizoRxIls08WMmA.png" data-width="1250" data-height="500" src="https://cdn-images-1.medium.com/max/800/1*5-oC2BqqizoRxIls08WMmA.png"></a></div></figure></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@broebling" class="p-author h-card">Bob Roebling</a> on <a href="https://medium.com/p/99f9a6671ce3"><time class="dt-published" datetime="2018-08-05T00:07:53.738Z">August 5, 2018</time></a>.</p><p><a href="https://medium.com/@broebling/code-structure-and-readability-part-4-project-structure-99f9a6671ce3" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on October 1, 2019.</p></footer></article></body></html>