<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Beginning Python Programming — Part 11</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Beginning Python Programming — Part 11</h1>
</header>
<section data-field="subtitle" class="p-summary">
Working with modules and virtual environments
</section>
<section data-field="body" class="e-content">
<section name="2a06" class="section section--body section--first"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="1633" id="1633" class="graf graf--h3 graf--leading graf--title">Beginning Python Programming — Part 11</h3><h4 name="8a62" id="8a62" class="graf graf--h4 graf-after--h3 graf--subtitle">Working with modules and virtual environments</h4></div><div class="section-inner sectionLayout--outsetColumn"><figure name="0eff" id="0eff" class="graf graf--figure graf--layoutOutsetCenter graf-after--h4"><div class="aspectRatioPlaceholder is-locked" style="max-width: 1032px; max-height: 688px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 66.7%;"></div><img class="graf-image" data-image-id="0*_FhbfLgo1iYhB1cS" data-width="6000" data-height="4000" data-unsplash-photo-id="-tYsPFKMm7g" data-is-featured="true" src="https://cdn-images-1.medium.com/max/1200/0*_FhbfLgo1iYhB1cS"></div><figcaption class="imageCaption">Photo by <a href="https://unsplash.com/@ricardoviana?utm_source=medium&amp;utm_medium=referral" data-href="https://unsplash.com/@ricardoviana?utm_source=medium&amp;utm_medium=referral" class="markup--anchor markup--figure-anchor" rel="photo-creator noopener noopener noopener noopener noopener" target="_blank">Ricardo Viana</a> on <a href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" data-href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" class="markup--anchor markup--figure-anchor" rel="photo-source noopener noopener noopener noopener noopener" target="_blank">Unsplash</a></figcaption></figure></div><div class="section-inner sectionLayout--insetColumn"><p name="7005" id="7005" class="graf graf--p graf-after--figure">In the last post, we covered tips on how to structure your code, the PEP 8 formatting guidelines, and a few more coding principles.</p><div name="053d" id="053d" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://medium.com/better-programming/beginning-python-programming-part-10-afd00b71f04e" data-href="https://medium.com/better-programming/beginning-python-programming-part-10-afd00b71f04e" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/better-programming/beginning-python-programming-part-10-afd00b71f04e"><strong class="markup--strong markup--mixtapeEmbed-strong">Beginning Python Programming — Part 10</strong><br><em class="markup--em markup--mixtapeEmbed-em">In the previous post, we covered everything related to errors to help reduce the number of bugs in our programs.</em>medium.com</a><a href="https://medium.com/better-programming/beginning-python-programming-part-10-afd00b71f04e" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="bc9fedc98b901b2614b9ac9ba927590e" data-thumbnail-img-id="0*CB5OshHHEYumWyAw" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*CB5OshHHEYumWyAw);"></a></div><p name="fbb7" id="fbb7" class="graf graf--p graf-after--mixtapeEmbed graf--trailing">Today, we are going to cover a few more tools to help you keep your code clean and a common practice that prevents you from re-inventing the wheel.</p></div></div></section><section name="56c2" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="7bc2" id="7bc2" class="graf graf--h3 graf--leading">Packages</h3><p name="d436" id="d436" class="graf graf--p graf-after--h3">Packages are standalone projects that contain reusable code for projects and are synonymous with libraries or frameworks in other languages.</p><p name="f525" id="f525" class="graf graf--p graf-after--p">So what does a package contain?</p><p name="cf75" id="cf75" class="graf graf--p graf-after--p">Outside of the code you wish to reuse in other projects, a package consists of a <code class="markup--code markup--p-code">README.md</code>, a <code class="markup--code markup--p-code">LICENSE</code>, and a <code class="markup--code markup--p-code">setup.py</code> file.</p><ul class="postList"><li name="e5fd" id="e5fd" class="graf graf--li graf-after--p"><code class="markup--code markup--li-code">README.md</code> (markdown) — contains the information about your package that can be used to understand what your package does.</li><li name="a553" id="a553" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">LICENSE</code> — this is the license agreement, or terms of use. Use this to let others know if they need to give you credit, if they can use it for commercial applications, if they can make modifications and redistribute, if you are not held liable for damages, and so on.</li><li name="9c92" id="9c92" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">setup.py</code> — this is run whenever you first install a package. It tells Python about any dependencies and provides metadata about your package that will display to users from a package repository.</li></ul><p name="961e" id="961e" class="graf graf--p graf-after--li">Out of all of these, <code class="markup--code markup--p-code">setup.py</code> is the most important as it’s how your package installs.</p><p name="9246" id="9246" class="graf graf--p graf-after--p">Something I always get a laugh out of when reading licenses is when someone includes “Not liable for damages done” when the program prints “Hello, World!”</p><p name="c8c8" id="c8c8" class="graf graf--p graf-after--p">Laughs aside, this is equally as important as setup.py when sharing your code with the world. While you might be doing the world a favor by writing a beneficial program, if it doesn’t work with a particular version of Python and your program damages a system, you will be held responsible even though the end user was the one who ultimately decided to run your program on their computer.</p><p name="ba8d" id="ba8d" class="graf graf--p graf-after--p">Python has thousands of packages available for you to use. I’ve used packages to connect to LDAP servers to perform work on users, packages to remotely SSH into another machine to run scripts, packages to run web servers, and many more.</p><p name="e0a9" id="e0a9" class="graf graf--p graf-after--p graf--trailing">Given those examples, you might have a good idea of what others have written and some direction as to what you could write. As you start to use packages, you’ll get more ideas of what you can do with them.</p></div></div></section><section name="2cfb" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="adac" id="adac" class="graf graf--h3 graf--leading">The Pip Command</h3><p name="c056" id="c056" class="graf graf--p graf-after--h3">We can download packages using the <code class="markup--code markup--p-code">pip</code> command. <code class="markup--code markup--p-code">pip</code> utilizes an online repository of packages named the <a href="https://pypi.org/" data-href="https://pypi.org/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Python Package Index, or Pypi</a> for short.</p><p name="9dda" id="9dda" class="graf graf--p graf-after--p">In older Python versions, <code class="markup--code markup--p-code">pip</code> was not included. On Linux operating systems, there is a package you can install named <code class="markup--code markup--p-code">python-pip</code> or <code class="markup--code markup--p-code">python36-pip</code> to install it.</p><p name="9a5a" id="9a5a" class="graf graf--p graf-after--p"><code class="markup--code markup--p-code">pip</code> is a simple utility. Much like <code class="markup--code markup--p-code">apt</code>, <code class="markup--code markup--p-code">yum</code> or <code class="markup--code markup--p-code">brew</code>, you can search for packages, get info about packages, or install and remove packages.</p><p name="7e72" id="7e72" class="graf graf--p graf-after--p">A few of the most common commands I use are:</p><ul class="postList"><li name="aff8" id="aff8" class="graf graf--li graf-after--p"><code class="markup--code markup--li-code">pip search &lt;package_name&gt;</code> — search for packages to install</li><li name="efcc" id="efcc" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">pip list</code> — list all installed packages</li><li name="03ee" id="03ee" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">pip info &lt;package_name&gt;</code> — get info about an installed package</li><li name="24f6" id="24f6" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">pip freeze</code> — provides a list of installed packages in requirements format (more on this later)</li><li name="ab0d" id="ab0d" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">pip install &lt;package_name&gt;</code> — installs a package or a comma-separated list of packages; use <code class="markup--code markup--li-code">pip install -U &lt;package_name&gt;</code> to upgrade a package to its latest version.</li><li name="4e25" id="4e25" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">pip uninstall &lt;package_name&gt;</code> — uninstalls a package or a comma-separated list of packages</li></ul><p name="5655" id="5655" class="graf graf--p graf-after--li">Earlier in this series, I said that I used <a href="https://github.com/python/black" data-href="https://github.com/python/black" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Black</a> to format my code. This is usually the first package I install on all of my computers. The idea comes from Henry Ford’s <a href="http://oplaunch.com/blog/2015/04/30/the-truth-about-any-color-so-long-as-it-is-black/" data-href="http://oplaunch.com/blog/2015/04/30/the-truth-about-any-color-so-long-as-it-is-black/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">famous saying</a> in regards to the color of the Model T.</p><p name="142d" id="142d" class="graf graf--p graf-after--p">If you wish to use it, you can install it using the following command:</p><p name="08ba" id="08ba" class="graf graf--p graf-after--p"><code class="markup--code markup--p-code">pip install black</code></p><p name="c8d2" id="c8d2" class="graf graf--p graf-after--p">There are other formatters out there that you can use, but I don’t care too much for how they indent my code. It is entirely subjective, so I highly recommend you check them all out before deciding on one.</p><p name="ab92" id="ab92" class="graf graf--p graf-after--p"><a href="https://medium.com/u/35ebb723d4a4" data-href="https://medium.com/u/35ebb723d4a4" data-anchor-type="2" data-user-id="35ebb723d4a4" data-action-value="35ebb723d4a4" data-action="show-user-card" data-action-type="hover" class="markup--user markup--p-user" target="_blank">Kevin Peters</a> has already written a great article on Python formatters, so I will refer you to his article if you want to do your own research.</p><div name="87d7" id="87d7" class="graf graf--mixtapeEmbed graf-after--p graf--trailing"><a href="https://medium.com/3yourmind/auto-formatters-for-python-8925065f9505" data-href="https://medium.com/3yourmind/auto-formatters-for-python-8925065f9505" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/3yourmind/auto-formatters-for-python-8925065f9505"><strong class="markup--strong markup--mixtapeEmbed-strong">Auto formatters for Python 👨‍💻🤖</strong><br><em class="markup--em markup--mixtapeEmbed-em">As you can see in the recent Stack Overflow developer survey, Python is one of the most popular programming languages…</em>medium.com</a><a href="https://medium.com/3yourmind/auto-formatters-for-python-8925065f9505" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="61a61ac8bf7ccfa1ac0b84e87181dcc2" data-thumbnail-img-id="1*Iq9IVexIGcxUN9NCt71w4A.png" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*Iq9IVexIGcxUN9NCt71w4A.png);"></a></div></div></div></section><section name="69a3" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--outsetColumn"><figure name="ad2b" id="ad2b" class="graf graf--figure graf--layoutOutsetCenter graf--leading"><div class="aspectRatioPlaceholder is-locked" style="max-width: 1032px; max-height: 655px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 63.5%;"></div><img class="graf-image" data-image-id="0*j7LBWVE3_nZuqgqS" data-width="5134" data-height="3260" data-unsplash-photo-id="rzA7ZuI8M5o" src="https://cdn-images-1.medium.com/max/1200/0*j7LBWVE3_nZuqgqS"></div><figcaption class="imageCaption">Photo by <a href="https://unsplash.com/@fellowferdi?utm_source=medium&amp;utm_medium=referral" data-href="https://unsplash.com/@fellowferdi?utm_source=medium&amp;utm_medium=referral" class="markup--anchor markup--figure-anchor" rel="photo-creator noopener noopener" target="_blank">Ferdinand Stöhr</a> on <a href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" data-href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" class="markup--anchor markup--figure-anchor" rel="photo-source noopener noopener" target="_blank">Unsplash</a></figcaption></figure></div><div class="section-inner sectionLayout--insetColumn"><h3 name="59c6" id="59c6" class="graf graf--h3 graf-after--figure">Virtual Environments</h3><p name="67d5" id="67d5" class="graf graf--p graf-after--h3">As you install packages, they are installed to the system Python package directory. While it may not be apparent at first, this can create problems after you have created multiple projects.</p><p name="f3b9" id="f3b9" class="graf graf--p graf-after--p">As an example, project A has a dependency for Django 1.11, while project B has a dependency for Django 2.1. The system will only handle one version of Django at a time, which means one of our projects will be broken when we try to fix the other.</p><p name="9e6e" id="9e6e" class="graf graf--p graf-after--p">Enter virtual environments.</p><p name="5c1b" id="5c1b" class="graf graf--p graf-after--p">Virtual environments allow you to create a project local Python directory to store all of your dependencies for that project. This means that project A can have a locally installed Django 1.11 while project B can have its own locally installed Django 2.1.</p><p name="cb43" id="cb43" class="graf graf--p graf-after--p">The way this works without getting too technical is that Python creates a folder which has linked executables back to the Python version it was created from. This allows you to use the same Python interpreter across multiple projects with multiple dependencies.</p><p name="601d" id="601d" class="graf graf--p graf-after--p">Pretty awesome, right? Unfortunately, this awesome utility is also a double-edged sword. If you update the Python interpreter that created this virtual environment, it may break your code or the virtual environment. Some packages are only designed for a specific version of Python and utilize deprecated features. When you update to a version that removes these deprecated features, it breaks the package. Not cool, right? Of course, this would have happened anyways, but it’s still a genuine implication. Remember, you are not copying the Python interpreter, just linking back to it.</p><h4 name="c00f" id="c00f" class="graf graf--h4 graf-after--p">How do we create a virtual environment?</h4><p name="8cc6" id="8cc6" class="graf graf--p graf-after--h4">Again, if you were on one of those Linux distributions that did not have pip installed, chances are you’ll need to install the virtual environment package as well. You can do this by installing the package named <code class="markup--code markup--p-code">python-venv</code> or <code class="markup--code markup--p-code">python36-venv</code>. (In case you were wondering, certain distros like CentOS default <code class="markup--code markup--p-code">python</code> to mean Python 2, while <code class="markup--code markup--p-code">python36</code> means Python 3.6.)</p><p name="6a61" id="6a61" class="graf graf--p graf-after--p">After you have it installed, you should use <code class="markup--code markup--p-code">cd</code> to change to the directory that should hold your project, then create a virtual environment directory inside of your project folder using this command:</p><p name="1b70" id="1b70" class="graf graf--p graf-after--p"><code class="markup--code markup--p-code">python -m venv venv</code></p><p name="ad48" id="ad48" class="graf graf--p graf-after--p">What this does is tell <code class="markup--code markup--p-code">python</code> to use the <code class="markup--code markup--p-code">-m</code>odule <code class="markup--code markup--p-code">venv</code> to create a virtual environment in the folder named <code class="markup--code markup--p-code">venv</code>. You can name the <code class="markup--code markup--p-code">venv</code> folder to whatever you want, but most tutorials, and projects for that matter, use <code class="markup--code markup--p-code">venv</code>. On *nix systems it is acceptable to use <code class="markup--code markup--p-code">.venv</code> to hide the folder.</p><p name="296a" id="296a" class="graf graf--p graf-after--p">If you want to use a different version of Python than what is the default for your system, use this command instead:</p><pre name="eef7" id="eef7" class="graf graf--pre graf-after--p">/path/to/other/pythonx.x -m venv venv</pre><p name="c4d9" id="c4d9" class="graf graf--p graf-after--pre">If you look inside of the newly created venv folder you will see the following folders:</p><ul class="postList"><li name="97e2" id="97e2" class="graf graf--li graf-after--p"><code class="markup--code markup--li-code">bin/</code> — contains links to the Python executables used for this virtual environment.</li><li name="e7c9" id="e7c9" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">lib/</code> — includes packages that were installed into this virtual environment such as Django or Black</li><li name="6332" id="6332" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">include/</code> — contains C header files that are used to compile python packages</li><li name="1b79" id="1b79" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">pyvenv.cfg</code> — contains configuration information about this virtual environment</li><li name="7108" id="7108" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">pip-selfcheck.json</code> — contains metadata regarding pip within the virtual environment.</li></ul><p name="35ed" id="35ed" class="graf graf--p graf-after--li">After you have created the virtual environment, you need to activate the virtual environment; otherwise, you’ll still be using and installing packages to the default Python interpreter. You can do this with this command:</p><p name="ae19" id="ae19" class="graf graf--p graf-after--p">On Linux and macOS:<br><code class="markup--code markup--p-code">source venv/bin/activate</code></p><p name="1324" id="1324" class="graf graf--p graf-after--p">On Windows:<br><code class="markup--code markup--p-code">venv/bin/activate</code></p><p name="760c" id="760c" class="graf graf--p graf-after--p">On Windows, <code class="markup--code markup--p-code">activate</code> is a link to <code class="markup--code markup--p-code">activate.bat</code> which activates the virtual environment. On *nix systems, <code class="markup--code markup--p-code">activate</code> is a shell script that does the same thing when used as an argument to the built-in <code class="markup--code markup--p-code">source</code> command.</p><p name="bd1b" id="bd1b" class="graf graf--p graf-after--p">You’ll know it is activated when you see <code class="markup--code markup--p-code">(venv)</code> prefixed to your command prompt.</p><p name="b30d" id="b30d" class="graf graf--p graf-after--p">To get out of the virtual environment command prompt, you can use <code class="markup--code markup--p-code">deactivate</code>.</p><p name="bd3c" id="bd3c" class="graf graf--p graf-after--p">Always ensure that the virtual environment is activated <strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">before</em></strong> you start installing packages. Some packages like formatters and linters you can install globally as you are almost guaranteed to use them in all projects. Other packages, like ansible, are meant to be installed as global packages; however, you can still use virtual environments to install older versions of these packages when the package or the dependencies conflict with what you have in your project.</p><p name="1419" id="1419" class="graf graf--p graf-after--p graf--trailing"><em class="markup--em markup--p-em">Linters are tools used for static analysis of your code; they ensure that you abide by best practices. </em><a href="https://medium.com/u/8832e1dc427b" data-href="https://medium.com/u/8832e1dc427b" data-anchor-type="2" data-user-id="8832e1dc427b" data-action-value="8832e1dc427b" data-action="show-user-card" data-action-type="hover" class="markup--user markup--p-user" target="_blank"><em class="markup--em markup--p-em">Itech</em></a><em class="markup--em markup--p-em"> </em><a href="https://medium.com/python-pandemonium/what-is-flake8-and-why-we-should-use-it-b89bd78073f2" data-href="https://medium.com/python-pandemonium/what-is-flake8-and-why-we-should-use-it-b89bd78073f2" class="markup--anchor markup--p-anchor" target="_blank"><em class="markup--em markup--p-em">wrote a post on flake8</em></a><em class="markup--em markup--p-em"> which includes others if you would like to know more about linting. Linting is not the same as an auto-formatter; it only shows problematic code in your project; it does not change the layout of your code or fix these issues for you. In PyCharm, I use </em><a href="https://plugins.jetbrains.com/plugin/7973-sonarlint" data-href="https://plugins.jetbrains.com/plugin/7973-sonarlint" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank"><em class="markup--em markup--p-em">SonarLint</em></a><em class="markup--em markup--p-em"> to save me from doing dumb stuff.</em></p></div></div></section><section name="b531" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--outsetColumn"><figure name="dd18" id="dd18" class="graf graf--figure graf--layoutOutsetCenter graf--leading"><div class="aspectRatioPlaceholder is-locked" style="max-width: 1032px; max-height: 688px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 66.7%;"></div><img class="graf-image" data-image-id="0*2kR4XT8Lwr_cLurH" data-width="5760" data-height="3840" data-unsplash-photo-id="FXFz-sW0uwo" src="https://cdn-images-1.medium.com/max/1200/0*2kR4XT8Lwr_cLurH"></div><figcaption class="imageCaption">Photo by <a href="https://unsplash.com/@markusspiske?utm_source=medium&amp;utm_medium=referral" data-href="https://unsplash.com/@markusspiske?utm_source=medium&amp;utm_medium=referral" class="markup--anchor markup--figure-anchor" rel="photo-creator noopener noopener" target="_blank">Markus Spiske</a> on <a href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" data-href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" class="markup--anchor markup--figure-anchor" rel="photo-source noopener noopener" target="_blank">Unsplash</a></figcaption></figure></div><div class="section-inner sectionLayout--insetColumn"><p name="f95f" id="f95f" class="graf graf--p graf-after--figure"><em class="markup--em markup--p-em">Fun Fact: </em><a href="https://www.wired.com/story/the-matrix-code-sushi-recipe/" data-href="https://www.wired.com/story/the-matrix-code-sushi-recipe/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank"><em class="markup--em markup--p-em">The computer screens from the matrix were created from sushi recipes</em></a><em class="markup--em markup--p-em">.</em></p><h3 name="5452" id="5452" class="graf graf--h3 graf-after--p">Advanced Setups</h3><p name="2dec" id="2dec" class="graf graf--p graf-after--h3">Recently, a colleague introduced me to a couple of really cool utilities. The first of them is <a href="https://github.com/pyenv/pyenv" data-href="https://github.com/pyenv/pyenv" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">pyenv</a>. Pyenv allows you to manage multiple versions of Python on your computer without affecting the system Python.</p><p name="fb0e" id="fb0e" class="graf graf--p graf-after--p">Updating the system Python on *nix machines is considered harmful as some of the built-in applications may require a specific version of Python. If you overwrite this, you could break your system. This is why pyenv helps out.</p><p name="8fbd" id="8fbd" class="graf graf--p graf-after--p">The install is straight forward but out of the scope of this tutorial. I highly suggest you look over it and try it out for yourself.</p><p name="d34e" id="d34e" class="graf graf--p graf-after--p">Another neat pip package that I use is called <a href="https://pypi.org/project/pipx/" data-href="https://pypi.org/project/pipx/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">pipx</a>. <code class="markup--code markup--p-code">pipx</code> allows you to install python packages in their virtual environments and then creates a symlink into <code class="markup--code markup--p-code">/usr/local/bin/</code> which is in your PATH. This means that you can use Python packages as standalone applications (if it makes sense) or you can take global Python packages such as Black and make them available system-wide.</p><p name="9f72" id="9f72" class="graf graf--p graf-after--p graf--trailing">You can install it as you would any other pip package <code class="markup--code markup--p-code">pip install pipx</code> , and it will be available globally. From there, you can use <code class="markup--code markup--p-code">pipx install black</code> to create a virtual environment for Black and make it available to the entire system.</p></div></div></section><section name="e026" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="d97d" id="d97d" class="graf graf--h3 graf--leading">Requirements Files</h3><p name="1431" id="1431" class="graf graf--p graf-after--h3">Earlier, I mentioned <code class="markup--code markup--p-code">pip freeze</code> and requirements files, and I’d like to cover those more in detail now.</p><p name="99e4" id="99e4" class="graf graf--p graf-after--p"><code class="markup--code markup--p-code">pip freeze</code> provides a list of all the packages that you have installed. It is specific towards the environment you are currently in, whether that is the system interpreter or a virtual environment. When you run this command, you see output similar to the following:</p><pre name="cb4e" id="cb4e" class="graf graf--pre graf-after--p">Django==2.2.2<br>pytz==2019.1<br>sqlparse==0.3.0</pre><p name="eece" id="eece" class="graf graf--p graf-after--pre">This is the output after installing Django 2.2.2. First, pip downloads Django then runs the setup.py that we talked about earlier. Inside the setup.py, there are two dependencies listed: pytz and sqlparse. These may be version specific and usually are, so pip installs those along with Django. Once the dependencies are satisfied, the Django install finishes, and we can start a new Django project.</p><p name="5ebd" id="5ebd" class="graf graf--p graf-after--p">I’m not going to cover Django in my tutorial as there are far better tutorials already written.</p><p name="2ee2" id="2ee2" class="graf graf--p graf-after--p"><code class="markup--code markup--p-code">requirements.txt</code> files are, by convention, where we store project pip requirements. We can pass this file to pip by using this command:</p><p name="b5d5" id="b5d5" class="graf graf--p graf-after--p"><code class="markup--code markup--p-code">pip install -r requirements.txt</code></p><p name="9537" id="9537" class="graf graf--p graf-after--p">Please note that you need to be in the same directory as the requirements file for the above command to work as is. Otherwise, you need to pass the relative path to your current directory (i.e., <code class="markup--code markup--p-code">somefolder/requirements.txt</code>).</p><p name="c493" id="c493" class="graf graf--p graf-after--p">Along with the packages listed, we also have the version numbers separated by <code class="markup--code markup--p-code">==</code>. This means match this exact version. If we wanted an earlier version, we could change the version number, and we would receive that version instead.</p><p name="f738" id="f738" class="graf graf--p graf-after--p">If you wanted to ensure new installs always updated to the latest version, you could omit the <code class="markup--code markup--p-code">==#.#.#</code> at the end.</p><p name="5c3f" id="5c3f" class="graf graf--p graf-after--p">Alternatively, if you wanted to install up to a specific version you could use <code class="markup--code markup--p-code">&lt;=</code> which would include the version you specified or <code class="markup--code markup--p-code">&lt;</code> to always get the latest package as long as it is less than the version you specified.</p><p name="aa11" id="aa11" class="graf graf--p graf-after--p">If you wanted to ensure you always get a version greater than a specific version, you could use <code class="markup--code markup--p-code">&gt;</code> or <code class="markup--code markup--p-code">&gt;=</code>.</p><p name="a39a" id="a39a" class="graf graf--p graf-after--p">Finally, you can mix the two where you have <code class="markup--code markup--p-code">&gt;=0.2,&lt;0.3</code> at the end to denote greater than or equal to 0.2 and less than 0.3. This means that 0.2.1 would get installed while 0.25 or 0.3 are rejected.</p><p name="ebc9" id="ebc9" class="graf graf--p graf-after--p"><code class="markup--code markup--p-code">pip freeze</code> comes in handy due to output redirection. You can use <br><code class="markup--code markup--p-code">pip freeze &gt; requirements.txt</code> to send the output to a file named <code class="markup--code markup--p-code">requirements.txt</code>. If the file does not exist it will be created; otherwise the text inside is replaced. If for some reason you want to append the text (not suggested) you can use <code class="markup--code markup--p-code">&gt;&gt;</code> instead.</p><p name="7710" id="7710" class="graf graf--p graf-after--p">Using output redirection saves you a lot of time when it comes to creating requirements files. Something I like to do is separate all of my testing requirements from my production requirements. This way, packages such as pytest or coverage are not installed into the production environment. I place all of these in a <code class="markup--code markup--p-code">test_requirements.txt</code> file that I install during testing phases.</p><p name="9325" id="9325" class="graf graf--p graf-after--p">Another thing I do to clean up the requirements file is to run <br><code class="markup--code markup--p-code">pip show &lt;package&gt;</code> on each package to determine what each package requires. The output from <code class="markup--code markup--p-code">pip show Django</code> shows “Requires: pytz, sqlparse.”</p><p name="2459" id="2459" class="graf graf--p graf-after--p">Based on this, I can remove both pytz and sqlparse from my requirements file. You can do this in any order you wish, but I typically go from core requirements such as Django or Flask to others that I know may require other packages, finishing up from top to bottom with the remaining packages.</p><p name="6141" id="6141" class="graf graf--p graf-after--p">Please note that this can cause problems if a dependency is updated and the version is not not included in your requirements file, as mentioned by <a href="https://medium.com/u/cc6a49fe4899" data-href="https://medium.com/u/cc6a49fe4899" data-anchor-type="2" data-user-id="cc6a49fe4899" data-action-value="cc6a49fe4899" data-action="show-user-card" data-action-type="hover" class="markup--user markup--p-user" target="_blank">Peter</a> in the comments below. See his response for more detail on why.</p><p name="dbbd" id="dbbd" class="graf graf--p graf-after--p">I do this because sometimes I might want Django to update to the next version, which may also include an updated package requirement. Only keep all of the packages listed if it is a critical application that should not update without careful review.</p><p name="6bfa" id="6bfa" class="graf graf--p graf-after--p graf--trailing">Don’t worry if you don’t know which ones might; this comes with time and experience with packages.</p></div></div></section><section name="da8e" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="0870" id="0870" class="graf graf--h3 graf--leading">Summary</h3><p name="54dc" id="54dc" class="graf graf--p graf-after--h3">Today we covered packages which help us use pre-written code to perform tasks, <code class="markup--code markup--p-code">pip</code> which allows us to install these packages, and virtual environments so we can keep our development environment clean. We also covered requirements files and how they can be used to ensure all of our dependencies are installed when we share our application with others or install our app into a different environment.</p><h4 name="fb5d" id="fb5d" class="graf graf--h4 graf-after--p">Links</h4><p name="90e7" id="90e7" class="graf graf--p graf-after--h4">If you care to know more about creating your own packages or uploading your packages to Pypi, check out the Python packaging user guide.</p><div name="b927" id="b927" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://packaging.python.org/" data-href="https://packaging.python.org/" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://packaging.python.org/"><strong class="markup--strong markup--mixtapeEmbed-strong">Python Packaging User Guide — Python Packaging User Guide</strong><br><em class="markup--em markup--mixtapeEmbed-em">The Python Packaging User Guide (PyPUG) is a collection of tutorials and guides for packaging Python software.</em>packaging.python.org</a><a href="https://packaging.python.org/" class="js-mixtapeImage mixtapeImage mixtapeImage--empty u-ignoreBlock" data-media-id="db83a529a907187a3967e7949eb1448a"></a></div><p name="1a74" id="1a74" class="graf graf--p graf-after--mixtapeEmbed">If you want to learn more about installing packages and virtual environments, check out this guide:</p><div name="5829" id="5829" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://packaging.python.org/tutorials/installing-packages/" data-href="https://packaging.python.org/tutorials/installing-packages/" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://packaging.python.org/tutorials/installing-packages/"><strong class="markup--strong markup--mixtapeEmbed-strong">Installing Packages — Python Packaging User Guide</strong><br><em class="markup--em markup--mixtapeEmbed-em">Due to the way most Linux distributions are handling the Python 3 migration, Linux users using the system Python…</em>packaging.python.org</a><a href="https://packaging.python.org/tutorials/installing-packages/" class="js-mixtapeImage mixtapeImage mixtapeImage--empty u-ignoreBlock" data-media-id="14392dc416caf430463a1bc827fa3e99"></a></div><p name="7b20" id="7b20" class="graf graf--p graf-after--mixtapeEmbed">These are also on <a href="https://docs.python.org" data-href="https://docs.python.org" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">docs.python.org</a>.</p><div name="a6e5" id="a6e5" class="graf graf--mixtapeEmbed graf-after--p graf--trailing"><a href="https://docs.python.org/3/installing/index.html" data-href="https://docs.python.org/3/installing/index.html" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://docs.python.org/3/installing/index.html"><strong class="markup--strong markup--mixtapeEmbed-strong">Installing Python Modules — Python 3.7.3 documentation</strong><br><em class="markup--em markup--mixtapeEmbed-em">For corporate and other institutional users, be aware that many organisations have their own policies around using and…</em>docs.python.org</a><a href="https://docs.python.org/3/installing/index.html" class="js-mixtapeImage mixtapeImage mixtapeImage--empty u-ignoreBlock" data-media-id="d5493d8de303ff6ff77f2ae1e4427810"></a></div></div></div></section><section name="d0ba" class="section section--body section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="6377" id="6377" class="graf graf--h3 graf--leading">What’s Next?</h3><p name="2bf8" id="2bf8" class="graf graf--p graf-after--h3">We’ve come a long way. I was going to write about async, but I decided it might be more beneficial to cover iterators and generators first. Both allow you to loop through sequences and we will learn how they are similar, how they are different, and how we can use them to make improvements to our code.</p><p name="cea4" id="cea4" class="graf graf--p graf-after--p">Until then, practice what you’ve learned!</p><div name="5825" id="5825" class="graf graf--mixtapeEmbed graf-after--p graf--trailing"><a href="https://medium.com/@broebling/beginning-python-programming-part-12-5450ae804936" data-href="https://medium.com/@broebling/beginning-python-programming-part-12-5450ae804936" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/@broebling/beginning-python-programming-part-12-5450ae804936"><strong class="markup--strong markup--mixtapeEmbed-strong">Beginning Python Programming — Part 12</strong><br><em class="markup--em markup--mixtapeEmbed-em">In the previous article, we covered packages and virtual environments.</em>medium.com</a><a href="https://medium.com/@broebling/beginning-python-programming-part-12-5450ae804936" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="37cf390940f7798c64c1a43bda831da4" data-thumbnail-img-id="0*PAb7ciq1C0Xcq916" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*PAb7ciq1C0Xcq916);"></a></div></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@broebling" class="p-author h-card">Bob Roebling</a> on <a href="https://medium.com/p/1dc915b4f0fd"><time class="dt-published" datetime="2019-06-10T05:37:24.813Z">June 10, 2019</time></a>.</p><p><a href="https://medium.com/@broebling/beginning-python-programming-part-11-1dc915b4f0fd" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on October 1, 2019.</p></footer></article></body></html>